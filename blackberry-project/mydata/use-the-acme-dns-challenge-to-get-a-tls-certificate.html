<!DOCTYPE html><html lang="en"><head><link href="https://unpkg.com/prismjs@1.23.0/themes/prism-tomorrow.css" rel="preload" as="style"/><meta charSet="utf-8"/><meta name="viewport" content="minimum-scale=1, initial-scale=1, maximum-scale=5, width=device-width, shrink-to-fit=no, viewport-fit=cover"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@marcofranssen"/><meta name="twitter:creator" content="@marcofranssen"/><meta property="og:image:width" content="875"/><meta property="og:image:height" content="500"/><title>Use the ACME DNS-Challenge to get a TLS certificate - Marco Franssen</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="In my previous 2 blogs I have shown you how to build a HTTP/2 webserver. In these blogs we have covered self signed TLS certificates as well retrieving a Certificate via Letsencrypt. I mentioned there you will have to expose your server publicly on the internet. However I now figured out there is another way. So please continue reading.

Let&#x27;s Encrypt is a free, automated, and open certificate authority brought to you by the nonprofit Internet Security Research Group (ISRG).

Letsencrypt imple…"/><meta property="og:title" content="Use the ACME DNS-Challenge to get a TLS certificate - Marco Franssen"/><meta property="og:description" content="In my previous 2 blogs I have shown you how to build a HTTP/2 webserver. In these blogs we have covered self signed TLS certificates as well retrieving a Certificate via Letsencrypt. I mentioned there you will have to expose your server publicly on the internet. However I now figured out there is another way. So please continue reading.

Let&#x27;s Encrypt is a free, automated, and open certificate authority brought to you by the nonprofit Internet Security Research Group (ISRG).

Letsencrypt imple…"/><meta property="og:url" content="https://nextjs.marcofranssen.nl/use-the-acme-dns-challenge-to-get-a-tls-certificate"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2020-04-13T12:22:12.000Z"/><meta property="article:section" content="Software development"/><meta property="article:tag" content="Web"/><meta property="article:tag" content="Docker"/><meta property="article:tag" content="TLS"/><meta property="article:tag" content="Letsencrypt"/><meta property="article:tag" content="HTTP/2"/><meta property="og:image" content="https://nextjs.marcofranssen.nl/images/6b7f0cf87fd84937834f07bb6719c0e521445911.png"/><meta property="og:image:alt" content="Use the ACME DNS-Challenge to get a TLS certificate - Marco Franssen"/><link rel="canonical" href="https://nextjs.marcofranssen.nl/use-the-acme-dns-challenge-to-get-a-tls-certificate"/><meta name="author" content="Marco Franssen"/><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://nextjs.marcofranssen.nl/use-the-acme-dns-challenge-to-get-a-tls-certificate"
    },
    "headline": "Use the ACME DNS-Challenge to get a TLS certificate - Marco Franssen",
    "image": [
      "https://nextjs.marcofranssen.nl/images/6b7f0cf87fd84937834f07bb6719c0e521445911.png"
     ],
    "datePublished": "2020-04-13T12:22:12.000Z",
    "dateModified": "2020-04-13T12:22:12.000Z",
    "author": {"@type": "Person","name": "Marco Franssen"},
    "publisher": {
      "@type": "Organization",
      "name": "Marco Franssen",
      "logo": {
        "@type": "ImageObject",
        "url": "undefined"
      }
    },
    "description": "In my previous 2 blogs I have shown you how to build a HTTP/2 webserver. In these blogs we have covered self signed TLS certificates as well retrieving a Certificate via Letsencrypt. I mentioned there you will have to expose your server publicly on the internet. However I now figured out there is another way. So please continue reading.

Let's Encrypt is a free, automated, and open certificate authority brought to you by the nonprofit Internet Security Research Group (ISRG).

Letsencrypt imple…"
  }</script><noscript><link href="https://unpkg.com/prismjs@1.23.0/themes/prism-tomorrow.css" rel="stylesheet"/></noscript><meta name="next-head-count" content="29"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><link rel="manifest" href="/site.webmanifest"/><link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"/><link rel="mask-icon" href="/icons/maskable_icon.png" color="#ffffff"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"/><meta name="theme-color" content="#ffffff"/><link rel="icon" href="/favicon.ico"/><link rel="shortcut icon" href="/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/atom.xml"/><script type="text/plain" cookie-consent="tracking" async="" src="https://www.googletagmanager.com/gtag/js?id=G-R7KTE51QSZ"></script><script type="text/plain" cookie-consent="tracking">
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'G-R7KTE51QSZ', {
  page_path: window.location.pathname,
});</script><link rel="preload" href="/_next/static/css/c63dce7e5aec3591.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c63dce7e5aec3591.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-c9c5fc5f7f59df04.js" defer=""></script><script src="/_next/static/chunks/framework-14210688d8492451.js" defer=""></script><script src="/_next/static/chunks/main-479bbb3b73068882.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8e7db99ba3319ab4.js" defer=""></script><script src="/_next/static/chunks/142-6e1998252e18d44f.js" defer=""></script><script src="/_next/static/chunks/108-88506be24b37c7ad.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-cbedb84c63cc1506.js" defer=""></script><script src="/_next/static/383BorgA1SobUE5YFFTzt/_buildManifest.js" defer=""></script><script src="/_next/static/383BorgA1SobUE5YFFTzt/_ssgManifest.js" defer=""></script><script src="/_next/static/383BorgA1SobUE5YFFTzt/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><div class="sticky-nav border-b bg-gray-50 border-gray-200 print:invisible"><nav class="flex justify-between items-center p-8 my-0"><div class="space-x-2"></div><div><a class="p-1 sm:p-4 hover:underline hover:text-gray-600 duration-200 transition-colors" href="/blog">Blog</a><a class="p-1 sm:p-4 hover:underline hover:text-gray-600 duration-200 transition-colors" href="/git-recipes">Git Recipes</a><a class="p-1 sm:p-4 hover:underline hover:text-gray-600 duration-200 transition-colors" href="/about">About</a><a class="p-1 sm:p-4 hover:underline hover:text-gray-600 duration-200 transition-colors" href="/">Home</a></div></nav></div><main class="print:-mt-44"><div class="container mx-auto px-5"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-20 mt-8 print:invisible"><a class="hover:underline" href="/blog">Blog</a>.<!-- --></h2><article class="mb-32"><h1 class="text-3xl md:text-5xl lg:text-7xl font-bold tracking-tighter leading-tight md:leading-none mb-12">Use the ACME DNS-Challenge to get a TLS certificate</h1><div class="flex flex-col md:flex-row items-start justify-between md:items-center mt-2 mb-8 max-w-4xl mx-auto"><div class="flex items-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2732%27%20height=%2732%27/%3e"/></span><img alt="Marco Franssen" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Marco Franssen" srcSet="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=32&amp;q=75 1x, /_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="text-sm text-gray-700 ml-2">Marco Franssen<!-- --> / <!-- --><time dateTime="2020-04-13T12:22:12.000Z">April  13, 2020</time></p></div><p class="text-sm text-gray-500 min-w-32 mt-2 md:mt-0">9 min read<!-- --> • <!-- -->1729<!-- --> words<!-- --></p></div><div class="max-w-4xl mx-auto mb-8 md:mb-16"><div class="relative shadow-small h-36 md:h-60 lg:h-72"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Cover Image for Use the ACME DNS-Challenge to get a TLS certificate" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="object-cover object-center" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;filter:blur(20px);background-size:cover;background-image:url(&quot;/images/6b7f0cf87fd84937834f07bb6719c0e521445911.png&quot;);background-position:0% 0%"/><noscript><img alt="Cover Image for Use the ACME DNS-Challenge to get a TLS certificate" sizes="100vw" srcSet="/_next/image?url=%2Fimages%2F6b7f0cf87fd84937834f07bb6719c0e521445911.png&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fimages%2F6b7f0cf87fd84937834f07bb6719c0e521445911.png&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fimages%2F6b7f0cf87fd84937834f07bb6719c0e521445911.png&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fimages%2F6b7f0cf87fd84937834f07bb6719c0e521445911.png&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fimages%2F6b7f0cf87fd84937834f07bb6719c0e521445911.png&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fimages%2F6b7f0cf87fd84937834f07bb6719c0e521445911.png&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fimages%2F6b7f0cf87fd84937834f07bb6719c0e521445911.png&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fimages%2F6b7f0cf87fd84937834f07bb6719c0e521445911.png&amp;w=3840&amp;q=75 3840w" src="/_next/image?url=%2Fimages%2F6b7f0cf87fd84937834f07bb6719c0e521445911.png&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center" loading="lazy"/></noscript></span></div></div><div class="max-w-prose mx-auto"><div class="prose"><p>In my previous 2 blogs I have shown you how to build a HTTP/2 webserver. In these blogs we have covered self signed TLS certificates as well retrieving a Certificate via Letsencrypt. I mentioned there you will have to expose your server publicly on the internet. However I now figured out there is another way. So please continue reading.</p><blockquote><p>Let&#x27;s Encrypt is a free, automated, and open certificate authority brought to you by the nonprofit Internet Security Research Group (ISRG).</p></blockquote><p>Letsencrypt implements the ACME <!-- --><em>(Automated Certificate Management environment)</em> protocol. In the ACME protocol there are <!-- --><a href="https://letsencrypt.org/docs/challenge-types/" title="Acme Challenge types" target="_blank" rel="nofollow noopener noreferrer">4 challenge types defined</a>. Let&#x27;s go briefly over these challenge types, so we can relate this back to my previous blogs before we are going to use the DNS challenge type.<!-- --></p><h2 id="http-01-challenge"><a class="anchor" href="#http-01-challenge"><span class="icon icon-link"></span></a>HTTP-01 challenge<!-- --></h2><p>This challenge can only be performed on port 80. The client will temporarely place a file on the webserver in the following path.</p><blockquote><p><code>/.well-known/acme-challenge/&lt;TOKEN&gt;</code></p></blockquote><p>Once the ACME client tells Letsecrypt the file is there it will be retrieved to authenticate and validate. Upon success you will receive the certificate. For this challenge your webserver has to be publicly reacheable on port 80.</p><h2 id="dns-01-challenge"><a class="anchor" href="#dns-01-challenge"><span class="icon icon-link"></span></a>DNS-01 challenge<!-- --></h2><p>This challenge requires you to prove the ownership of a domain name. It also allows for issuing wildcard certificates. After receiving a token the client will have to create a DNS <!-- --><code>TXT</code> record with the following contents.<!-- --></p><blockquote><p><code>_acme-challenge.&lt;YOUR_DOMAIN&gt;</code></p></blockquote><p>Letsencrypt will query for this DNS record. Once verified, the client can issue the certificate. As automation is important there is a large amount of DNS providers that expose an API. For this challenge your webserver does not have to be exposes on the internet, and is therefore very convenient to issue development certificates for a domain you personally own.</p><h2 id="tls-sni-01-challenge"><a class="anchor" href="#tls-sni-01-challenge"><span class="icon icon-link"></span></a>TLS-SNI-01 challenge<!-- --></h2><p>This challenge was defined in draft versions of ACME. It did a TLS handshake on port 443 and sent a specific SNI header, looking for certificate that contained the token. It was disabled in March 2019 because it was not secure enough. So let&#x27;s quickly forget about this one.</p><h2 id="tls-alpn-01-challenge"><a class="anchor" href="#tls-alpn-01-challenge"><span class="icon icon-link"></span></a>TLS-ALPN-01 challenge<!-- --></h2><p>This challenge can be performed on port 443 over TLS only. This challenge is not suitable for most people. It is best suited to authors of TLS-terminating reverse proxies that want to perform host-based validation like HTTP-01, but want to do it entirely at the TLS layer in order to separate concerns.</p><h2 id="recap"><a class="anchor" href="#recap"><span class="icon icon-link"></span></a>Recap<!-- --></h2><p>So now we know a bit about the different ACME Challenge types lets see what we have used in the <!-- --><a href="/build-a-go-webserver-on-http-2-using-letsencrypt" title="Build a Go Webserver on HTTP/2 using Letsencrypt">previous blog</a>. In this blog we had to publicly expose our webserver to be able to request a certificate. The main reason for this is that the <!-- --><code>golang.org/x/crypto/acme/autocert</code> does not offer the <!-- --><strong>DNS-01</strong> challenge implementation. We have been using the <!-- --><strong>HTTP-01</strong> challenge on this server to get our certificate.<!-- --></p><p>So now lets focus on how we can issue a certificate via the <!-- --><strong>DNS-01</strong> challenge type. As a fan of the Go programming language I found a bunch of other libraries and tools implementing the ACME protocol. These do implement the <!-- --><strong>DNS-01</strong> challenge type.<!-- --></p><h2 id="lego"><a class="anchor" href="#lego"><span class="icon icon-link"></span></a>Lego<!-- --></h2><p><a href="https://go-acme.github.io/lego/" title="Let’s Encrypt client and ACME library written in Go" target="_blank" rel="nofollow noopener noreferrer">Lego</a> can be used both as a cli tool or as a library in your own code. Lego supports a whole bunch of <!-- --><a href="https://github.com/go-acme/lego#dns-providers" title="Lego DNS providers" target="_blank" rel="nofollow noopener noreferrer">DNS providers</a>.<!-- --></p><h2 id="certmagic"><a class="anchor" href="#certmagic"><span class="icon icon-link"></span></a>Certmagic<!-- --></h2><p><a href="https://pkg.go.dev/github.com/caddyserver/certmagic?tab=overview" title="Easy and Powerful TLS Automation" target="_blank" rel="nofollow noopener noreferrer">Certmagic</a> is the library used in the <!-- --><a href="https://caddyserver.com/" title="Caddy 2 is a powerful, enterprise-ready, open source web server with automatic HTTPS written in Go" target="_blank" rel="nofollow noopener noreferrer">Caddy</a> webserver. To make use of the <!-- --><strong>DNS-01</strong> challenge also certmagic supports the <!-- --><a href="https://go-acme.github.io/lego/" title="Let’s Encrypt client and ACME library written in Go" target="_blank" rel="nofollow noopener noreferrer">Lego</a> DNS providers.<!-- --></p><h2 id="example"><a class="anchor" href="#example"><span class="icon icon-link"></span></a>Example<!-- --></h2><p>In this blog I will show you a small example using the <!-- --><a href="https://go-acme.github.io/lego/" title="Let’s Encrypt client and ACME library written in Go" target="_blank" rel="nofollow noopener noreferrer">Lego</a> cli to issue a certificate for your domain. I&#x27;m utilizing for that the Gandi Live DNS (v5) as a DNS Provider.<!-- --></p><p>First I will install Lego from sources using Go. Please note you will require <!-- --><code>Go 1.12+</code>.<!-- --></p><div class="rehype-code-title">terminal</div><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <!-- --><span class="token assign-left variable">GO111MODULE</span><span class="token operator">=</span>on go get -u github.com/go-acme/lego/v3/cmd/lego
<!-- --></span><span class="code-line">go: found github.com/go-acme/lego/v3/cmd/lego <!-- --><span class="token keyword">in</span> github.com/go-acme/lego/v3 v3.5.0
<!-- --></span><span class="code-line"><span class="token punctuation">..</span>.
<!-- --></span><span class="code-line"><span class="token punctuation">..</span>.
<!-- --></span><span class="code-line"><span class="token punctuation">..</span>.
<!-- --></span><span class="code-line">$ lego -h
</span><span class="code-line">NAME:
</span><span class="code-line">   lego - Let<!-- --><span class="token string">&#x27;s Encrypt client written in Go
</span></span><span class="code-line"><span class="token string">
</span></span><span class="code-line"><span class="token string">USAGE:
</span></span><span class="code-line"><span class="token string">   lego [global options] command [command options] [arguments...]
</span></span><span class="code-line"><span class="token string">
</span></span><span class="code-line"><span class="token string">VERSION:
</span></span><span class="code-line"><span class="token string">   dev
</span></span><span class="code-line"><span class="token string">
</span></span><span class="code-line"><span class="token string">COMMANDS:
</span></span><span class="code-line"><span class="token string">   run      Register an account, then create and install a certificate
</span></span><span class="code-line"><span class="token string">   revoke   Revoke a certificate
</span></span><span class="code-line"><span class="token string">   renew    Renew a certificate
</span></span><span class="code-line"><span class="token string">   dnshelp  Shows additional help for the &#x27;</span>--dns&#x27; global option
<!-- --></span><span class="code-line">   list     Display certificates and accounts information.
</span><span class="code-line">   help, h  Shows a list of commands or <!-- --><span class="token builtin class-name">help</span> <!-- --><span class="token keyword">for</span> one <!-- --><span class="token builtin class-name">command</span>
<!-- --></span><span class="code-line"><span class="token punctuation">..</span>.
<!-- --></span><span class="code-line"><span class="token punctuation">..</span>.
<!-- --></span><span class="code-line"><span class="token punctuation">..</span>.
<!-- --></span></code></pre><p>If you don&#x27;t have Go installed on your machine, there is also a Docker container available.</p><div class="rehype-code-title">terminal</div><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <!-- --><span class="token function">docker</span> run goacme/lego -h
<!-- --></span><span class="code-line">NAME:
</span><span class="code-line">   lego - Let<!-- --><span class="token string">&#x27;s Encrypt client written in Go
</span></span><span class="code-line"><span class="token string">
</span></span><span class="code-line"><span class="token string">USAGE:
</span></span><span class="code-line"><span class="token string">   lego [global options] command [command options] [arguments...]
</span></span><span class="code-line"><span class="token string">
</span></span><span class="code-line"><span class="token string">VERSION:
</span></span><span class="code-line"><span class="token string">   v3.5.0
</span></span><span class="code-line"><span class="token string">
</span></span><span class="code-line"><span class="token string">COMMANDS:
</span></span><span class="code-line"><span class="token string">   run      Register an account, then create and install a certificate
</span></span><span class="code-line"><span class="token string">   revoke   Revoke a certificate
</span></span><span class="code-line"><span class="token string">   renew    Renew a certificate
</span></span><span class="code-line"><span class="token string">   dnshelp  Shows additional help for the &#x27;</span>--dns&#x27; global option
<!-- --></span><span class="code-line">   list     Display certificates and accounts information.
</span><span class="code-line">   help, h  Shows a list of commands or <!-- --><span class="token builtin class-name">help</span> <!-- --><span class="token keyword">for</span> one <!-- --><span class="token builtin class-name">command</span>
<!-- --></span><span class="code-line"><span class="token punctuation">..</span>.
<!-- --></span><span class="code-line"><span class="token punctuation">..</span>.
<!-- --></span><span class="code-line"><span class="token punctuation">..</span>.
<!-- --></span></code></pre><p>For my Gandi Live DNS, I will have to provide my Gandi API Key to be able to communicate with their API. In below example I show you a dummy key, so don&#x27;t expect this to work for you.</p><div class="rehype-code-title">terminal</div><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <!-- --><span class="token builtin class-name">export</span> <!-- --><span class="token assign-left variable">GANDIV5_API_KEY</span><span class="token operator">=</span>G4nD1v5L1v3DNSDummyK3y
<!-- --></span><span class="code-line">$ lego --dns gandiv5 -d marcofranssen.nl -d <!-- --><span class="token string">&#x27;*.marcofranssen.nl&#x27;</span> -a -m marco.franssen@gmail.com run
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:31:42 No key found <!-- --><span class="token keyword">for</span> account marco.franssen@gmail.com. Generating a P384 key.
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:31:42 Saved key to /Users/marco/.lego/accounts/acme-v02.api.letsencrypt.org/marco.franssen@gmail.com/keys/marco.franssen@gmail.com.key
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:31:43 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> acme: Registering account <!-- --><span class="token keyword">for</span> marco.franssen@gmail.com
<!-- --></span><span class="code-line"><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span> HEADS UP <!-- --><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
<!-- --></span><span class="code-line">
</span><span class="code-line">    Your account credentials have been saved <!-- --><span class="token keyword">in</span> your Let<!-- --><span class="token string">&#x27;s Encrypt
</span></span><span class="code-line"><span class="token string">    configuration directory at &quot;/Users/marco/.lego/accounts&quot;.
</span></span><span class="code-line"><span class="token string">    You should make a secure backup of this folder now. This
</span></span><span class="code-line"><span class="token string">    configuration directory will also contain certificates and
</span></span><span class="code-line"><span class="token string">    private keys obtained from Let&#x27;</span>s Encrypt so making regular
<!-- --></span><span class="code-line">    backups of this folder is ideal.
</span><span class="code-line">
</span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:11 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Obtaining bundled SAN certificate
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:12 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> AuthURL: https://acme-v02.api.letsencrypt.org/acme/authz-v3/3894178945
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:12 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Could not <!-- --><span class="token function">find</span> solver for: tls-alpn-01
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:12 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Could not <!-- --><span class="token function">find</span> solver for: http-01
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:12 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: use dns-01 solver
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:12 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Preparing to solve DNS-01
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:13 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> API response: DNS Record Created
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:13 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Trying to solve DNS-01
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:13 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Checking DNS record propagation using <!-- --><span class="token punctuation">[</span><span class="token number">8.8</span>.8.8:53 <!-- --><span class="token number">8.8</span>.4.4:53<!-- --><span class="token punctuation">]</span>
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:13 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> Wait <!-- --><span class="token keyword">for</span> propagation <!-- --><span class="token punctuation">[</span>timeout: 20m0s, interval: 20s<!-- --><span class="token punctuation">]</span>
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:14 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Waiting <!-- --><span class="token keyword">for</span> DNS record propagation.
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:34 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Waiting <!-- --><span class="token keyword">for</span> DNS record propagation.
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:36:54 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Waiting <!-- --><span class="token keyword">for</span> DNS record propagation.
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:37:14 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Waiting <!-- --><span class="token keyword">for</span> DNS record propagation.
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:37:41 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> The server validated our request
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:37:41 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Cleaning DNS-01 challenge
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:37:41 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> acme: Validations succeeded<!-- --><span class="token punctuation">;</span> requesting certificates
<!-- --></span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:37:42 <!-- --><span class="token punctuation">[</span>INFO<!-- --><span class="token punctuation">]</span> <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> Server responded with a certificate.
<!-- --></span></code></pre><p>Now lets inspect the certificate we received. Please note there is also a <!-- --><code>.key</code> file in the same location which you will have to deploy at your webserver. For security reasons I will not share my key over here.<!-- --></p><div class="rehype-code-title">terminal</div><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ <!-- --><span class="token function">cat</span> .lego/certificates/mac-dev.marcofranssen.nl.crt
<!-- --></span><span class="code-line">-----BEGIN CERTIFICATE-----
</span><span class="code-line">MIIEuTCCA6GgAwIBAgISBLbVpvyGBSKWR+C/qPw+WAijMA0GCSqGSIb3DQEBCwUA
</span><span class="code-line">MEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQD
</span><span class="code-line">ExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0yMDA0MTExMDM3NDJaFw0y
</span><span class="code-line">MDA3MTAxMDM3NDJaMCMxITAfBgNVBAMTGG1hYy1kZXYubWFyY29mcmFuc3Nlbi5u
</span><span class="code-line">bDB2MBAGByqGSM49AgEGBSuBBAAiA2IABJVkLy+89NjDUcJ7Ym0tOSODV8h/HrGF
</span><span class="code-line">29u7sTbg6yicu4uETIjNn5yNeFXVaz9NfJ39iiwPCkyP6G35g46YNqv5xAlg2uid
</span><span class="code-line">Io0jiaR/A4S/JX4loD+U0b2FUxXPCyUwpaOCAmwwggJoMA4GA1UdDwEB/wQEAwIH
</span><span class="code-line">gDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDAYDVR0TAQH/BAIwADAd
</span><span class="code-line">BgNVHQ4EFgQUhTdwoXTajiDC0WkwLzIhO/0jV4YwHwYDVR0jBBgwFoAUqEpqYwR9
</span><span class="code-line">3brm0Tm3pkVl7/Oo7KEwbwYIKwYBBQUHAQEEYzBhMC4GCCsGAQUFBzABhiJodHRw
</span><span class="code-line">Oi8vb2NzcC5pbnQteDMubGV0c2VuY3J5cHQub3JnMC8GCCsGAQUFBzAChiNodHRw
</span><span class="code-line">Oi8vY2VydC5pbnQteDMubGV0c2VuY3J5cHQub3JnLzAjBgNVHREEHDAaghhtYWMt
</span><span class="code-line">ZGV2Lm1hcmNvZnJhbnNzZW4ubmwwTAYDVR0gBEUwQzAIBgZngQwBAgEwNwYLKwYB
</span><span class="code-line">BAGC3xMBAQEwKDAmBggrBgEFBQcCARYaaHR0cDovL2Nwcy5sZXRzZW5jcnlwdC5v
</span><span class="code-line">cmcwggEDBgorBgEEAdZ5AgQCBIH0BIHxAO8AdgDwlaRZ8gDRgkAQLS+TiI6tS/4d
</span><span class="code-line">R+OZ4dA0prCoqo6ycwAAAXFpB/hLAAAEAwBHMEUCIGngr8eDf1aGEuueWIzdx8GV
</span><span class="code-line">JGY5WhMOCM15Ij6VwJ29AiEA9WBTGf8xg3SoQXN3Sjgy/fYZu3Cs2lphHg3v0B4h
</span><span class="code-line">tH8AdQCyHgXMi6LNiiBOh2b5K7mKJSBna9r6cOeySVMt74uQXgAAAXFpB/g/AAAE
</span><span class="code-line">AwBGMEQCIEeoOJrnb1UH0XIorYLz9koKp4j0GVgqYgRvnTT517bnAiBgcrTEnvKw
</span><span class="code-line">tCe7R3Ci9XS8dcJDjQVXTEs4rPV4gCRW8TANBgkqhkiG9w0BAQsFAAOCAQEATcqt
</span><span class="code-line">lugYm7/7Z1R/IvBWct3E/bapMAhVz7alsClVeZHuv2vSX2LPgTp8ZXcgnf5RsXTw
</span><span class="code-line">iYJ/ZXhEtUwQfrPYGWYuXeINEbQ2hjKivGLYrWRfHw2MEC/R7Z1/5t6ODtUuYYbr
</span><span class="code-line">EHtCJ1I5XmmnqQvSoRBjbY1WtYskIZV2i1mk8eJv6z1FpBBkrrGFUaEXrw2HIBo1
</span><span class="code-line">K4zXwfxdnAb0PuBCVf+ds+EORhlMUWKf0yfSq9oAhZoitm4hS4BFC2ey8Y2dmuI9
</span><span class="code-line">I/EeVnxDPBFwWQ1Sbhinu0o1kjdYM2zO1nPZJjjyUDYJ+7Utq1zjvY7vENL7pmr/
</span><span class="code-line"><span class="token assign-left variable">pGu3XUZC2cD8LZRFkg</span><span class="token operator">==</span>
<!-- --></span><span class="code-line">-----END CERTIFICATE-----
</span><span class="code-line">
</span><span class="code-line">-----BEGIN CERTIFICATE-----
</span><span class="code-line">MIIEkjCCA3qgAwIBAgIQCgFBQgAAAVOFc2oLheynCDANBgkqhkiG9w0BAQsFADA/
</span><span class="code-line">MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT
</span><span class="code-line">DkRTVCBSb290IENBIFgzMB4XDTE2MDMxNzE2NDA0NloXDTIxMDMxNzE2NDA0Nlow
</span><span class="code-line">SjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMT
</span><span class="code-line">GkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMIIBIjANBgkqhkiG9w0BAQEFAAOC
</span><span class="code-line">AQ8AMIIBCgKCAQEAnNMM8FrlLke3cl03g7NoYzDq1zUmGSXhvb418XCSL7e4S0EF
</span><span class="code-line">q6meNQhY7LEqxGiHC6PjdeTm86dicbp5gWAf15Gan/PQeGdxyGkOlZHP/uaZ6WA8
</span><span class="code-line">SMx+yk13EiSdRxta67nsHjcAHJyse6cF6s5K671B5TaYucv9bTyWaN8jKkKQDIZ0
</span><span class="code-line">Z8h/pZq4UmEUEz9l6YKHy9v6Dlb2honzhT+Xhq+w3Brvaw2VFn3EK6BlspkENnWA
</span><span class="code-line">a6xK8xuQSXgvopZPKiAlKQTGdMDQMc2PMTiVFrqoM7hD8bEfwzB/onkxEz0tNvjj
</span><span class="code-line">/PIzark5McWvxI0NHWQWM6r6hCm21AvA2H3DkwIDAQABo4IBfTCCAXkwEgYDVR0T
</span><span class="code-line">AQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwfwYIKwYBBQUHAQEEczBxMDIG
</span><span class="code-line">CCsGAQUFBzABhiZodHRwOi8vaXNyZy50cnVzdGlkLm9jc3AuaWRlbnRydXN0LmNv
</span><span class="code-line">bTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9k
</span><span class="code-line">c3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAw
</span><span class="code-line">VAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcC
</span><span class="code-line">ARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAz
</span><span class="code-line">MDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwu
</span><span class="code-line">Y3JsMB0GA1UdDgQWBBSoSmpjBH3duubRObemRWXv86jsoTANBgkqhkiG9w0BAQsF
</span><span class="code-line">AAOCAQEA3TPXEfNjWDjdGBX7CVW+dla5cEilaUcne8IkCJLxWh9KEik3JHRRHGJo
</span><span class="code-line">uM2VcGfl96S8TihRzZvoroed6ti6WqEBmtzw3Wodatg+VyOeph4EYpr/1wXKtx8/
</span><span class="code-line">wApIvJSwtmVi4MFU5aMqrSDE6ea73Mj2tcMyo5jMd6jmeWUHK8so/joWUoHOUgwu
</span><span class="code-line">X4Po1QYz+3dszkDqMp4fklxBwXRsW10KXzPMTZ+sOPAveyxindmjkW8lGy+QsRlG
</span><span class="code-line">PfZ+G6Z6h7mjem0Y+iWlkYcV4PIWL1iwBi8saCbGS5jN2p8M+X+Q7UNKEkROb3N6
</span><span class="code-line">KOqkqm57TH2H3eDJAkSnh6/DNFu0Qg<!-- --><span class="token operator">==</span>
<!-- --></span><span class="code-line">-----END CERTIFICATE-----
</span></code></pre><p>To inspect the contents of your certificates you can simply run the following openssl command.</p><div class="rehype-code-title">terminal</div><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ openssl x509 -in .lego/certificates/mac-dev.marcofranssen.nl.crt -noout -text
</span><span class="code-line">Certificate:
</span><span class="code-line">    Data:
</span><span class="code-line">        Version: <!-- --><span class="token number">3</span> <!-- --><span class="token punctuation">(</span>0x2<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">        Serial Number:
</span><span class="code-line">            04:b6:d5:a6:fc:86:05:22:96:47:e0:bf:a8:fc:3e:58:08:a3
</span><span class="code-line">    Signature Algorithm: sha256WithRSAEncryption
</span><span class="code-line">        Issuer: <!-- --><span class="token assign-left variable">C</span><span class="token operator">=</span>US, <!-- --><span class="token assign-left variable">O</span><span class="token operator">=</span>Let<!-- --><span class="token string">&#x27;s Encrypt, CN=Let&#x27;</span>s Encrypt Authority X3
<!-- --></span><span class="code-line">        Validity
</span><span class="code-line">            Not Before: Apr <!-- --><span class="token number">11</span> <!-- --><span class="token number">10</span>:37:42 <!-- --><span class="token number">2020</span> GMT
<!-- --></span><span class="code-line">            Not After <!-- --><span class="token builtin class-name">:</span> Jul <!-- --><span class="token number">10</span> <!-- --><span class="token number">10</span>:37:42 <!-- --><span class="token number">2020</span> GMT
<!-- --></span><span class="code-line">        Subject: <!-- --><span class="token assign-left variable">CN</span><span class="token operator">=</span>mac-dev.marcofranssen.nl
<!-- --></span><span class="code-line">        Subject Public Key Info:
</span><span class="code-line">            Public Key Algorithm: id-ecPublicKey
</span><span class="code-line">                Public-Key: <!-- --><span class="token punctuation">(</span><span class="token number">384</span> bit<!-- --><span class="token punctuation">)</span>
<!-- --></span><span class="code-line">                pub:
</span><span class="code-line">                    04:95:64:2f:2f:bc:f4:d8:c3:51:c2:7b:62:6d:2d:
</span><span class="code-line">                    <!-- --><span class="token number">39</span>:23:83:57:c8:7f:1e:b1:85:db:db:bb:b1:36:e0:
<!-- --></span><span class="code-line">                    eb:28:9c:bb:8b:84:4c:88:cd:9f:9c:8d:78:55:d5:
</span><span class="code-line">                    6b:3f:4d:7c:9d:fd:8a:2c:0f:0a:4c:8f:e8:6d:f9:
</span><span class="code-line">                    <!-- --><span class="token number">83</span>:8e:98:36:ab:f9:c4:09:60:da:e8:9d:22:8d:23:
<!-- --></span><span class="code-line">                    <!-- --><span class="token number">89</span>:a4:7f:03:84:bf:25:7e:25:a0:3f:94:d1:bd:85:
<!-- --></span><span class="code-line">                    <!-- --><span class="token number">53</span>:15:cf:0b:25:30:a5
<!-- --></span><span class="code-line">                ASN1 OID: secp384r1
</span><span class="code-line">                NIST CURVE: P-384
</span><span class="code-line">        X509v3 extensions:
</span><span class="code-line">            X509v3 Key Usage: critical
</span><span class="code-line">                Digital Signature
</span><span class="code-line">            X509v3 Extended Key Usage:
</span><span class="code-line">                TLS Web Server Authentication, TLS Web Client Authentication
</span><span class="code-line">            X509v3 Basic Constraints: critical
</span><span class="code-line">                CA:FALSE
</span><span class="code-line">            X509v3 Subject Key Identifier:
</span><span class="code-line">                <!-- --><span class="token number">85</span>:37:70:A1:74:DA:8E:20:C2:D1:69:30:2F:32:21:3B:FD:23:57:86
<!-- --></span><span class="code-line">            X509v3 Authority Key Identifier:
</span><span class="code-line">                keyid:A8:4A:6A:63:04:7D:DD:BA:E6:D1:39:B7:A6:45:65:EF:F3:A8:EC:A1
</span><span class="code-line">
</span><span class="code-line">            Authority Information Access:
</span><span class="code-line">                OCSP - URI:http://ocsp.int-x3.letsencrypt.org
</span><span class="code-line">                CA Issuers - URI:http://cert.int-x3.letsencrypt.org/
</span><span class="code-line">
</span><span class="code-line">            X509v3 Subject Alternative Name:
</span><span class="code-line">                DNS:mac-dev.marcofranssen.nl
</span><span class="code-line">            X509v3 Certificate Policies:
</span><span class="code-line">                Policy: <!-- --><span class="token number">2.23</span>.140.1.2.1
<!-- --></span><span class="code-line">                Policy: <!-- --><span class="token number">1.3</span>.6.1.4.1.44947.1.1.1
<!-- --></span><span class="code-line">                  CPS: http://cps.letsencrypt.org
</span></code></pre><p>Last but not least you can very easily renew your certificate using <!-- --><a href="https://go-acme.github.io/lego/" title="Let’s Encrypt client and ACME library written in Go" target="_blank" rel="nofollow noopener noreferrer">Lego</a>.<!-- --></p><div class="rehype-code-title">terminal</div><pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">$ lego --dns gandiv5 -d mac-dev.marcofranssen.nl -a -m marco.franssen@gmail.com renew
</span><span class="code-line"><span class="token number">2020</span>/04/11 <!-- --><span class="token number">13</span>:49:23 <!-- --><span class="token punctuation">[</span>mac-dev.marcofranssen.nl<!-- --><span class="token punctuation">]</span> The certificate expires <!-- --><span class="token keyword">in</span> <!-- --><span class="token number">89</span> days, the number of days defined to perform the renewal is <!-- --><span class="token number">30</span>: no renewal.
<!-- --></span></code></pre><p>Feel free to explore the other options of the cli yourself. There are plenty of DNS providers available.</p><p>Last but not least you will have to update your <!-- --><code>/etc/hosts</code> file to use the certificate on your laptop during development.<!-- --></p><div class="rehype-code-title">/etc/hosts</div><pre class="language-txt"><code class="language-txt code-highlight"><span class="code-line">127.0.0.1 mac-dev.marcofranssen.nl
</span></code></pre><p>This allows me to navigate to my webserver running on localhost using <!-- --><a href="https://mac-dev.marcofranssen.nl" target="_blank" rel="nofollow noopener noreferrer">https://mac-dev.marcofranssen.nl</a>. See my other 2 blogs on how to <!-- --><a href="/build-a-go-webserver-on-http-2-using-letsencrypt" title="Build a Go Webserver on HTTP/2 using Letsencrypt">build a webserver in Go running on HTTPS</a> or a <!-- --><a href="/react-router-and-nginx-over-http2" title="React Router and Nginx over HTTP/2">webserver using Nginx</a>. Simply use the <!-- --><code>crt</code> and <!-- --><code>key</code> file we just received via <!-- --><a href="https://letsencrypt.org" title="A nonprofit Certificate Authority providing TLS certificates to 200 million websites" target="_blank" rel="nofollow noopener noreferrer">Letsencrypt</a>.<!-- --></p><p>Last but not least you will also find a reference to <!-- --><a href="https://docs.traefik.io/https/acme/" title="Configure Traefik to use an ACME provider" target="_blank" rel="nofollow noopener noreferrer">Traefik</a>. Also Traefik makes use of Lego to be able to get your certificates in Traefik.<!-- --></p><h2 id="references"><a class="anchor" href="#references"><span class="icon icon-link"></span></a>References<!-- --></h2><ul><li><a href="/build-a-go-webserver-on-http-2-using-letsencrypt" title="Build a Go Webserver on HTTP/2 using Letsencrypt">Build a Go Webserver on HTTP/2 using Letsencrypt</a></li><li><a href="/react-router-and-nginx-over-http2" title="React Router and Nginx over HTTP/2">React Router and Nginx over HTTP/2</a></li><li><a href="https://letsencrypt.org" title="A nonprofit Certificate Authority providing TLS certificates to 200 million websites" target="_blank" rel="nofollow noopener noreferrer">Letsencrypt</a></li><li><a href="https://letsencrypt.org/docs/challenge-types/" title="Acme Challenge types" target="_blank" rel="nofollow noopener noreferrer">Acme Challenge types</a></li><li><a href="https://go-acme.github.io/lego/" title="Let’s Encrypt client and ACME library written in Go" target="_blank" rel="nofollow noopener noreferrer">Let’s Encrypt client and ACME library written in Go</a></li><li><a href="https://github.com/go-acme/lego#dns-providers" title="Lego DNS providers" target="_blank" rel="nofollow noopener noreferrer">Lego DNS providers</a></li><li><a href="https://pkg.go.dev/github.com/caddyserver/certmagic?tab=overview" title="Easy and Powerful TLS Automation" target="_blank" rel="nofollow noopener noreferrer">Certmagic: Easy and Powerful TLS Automation</a></li><li><a href="https://caddyserver.com/" title="Caddy 2 is a powerful, enterprise-ready, open source web server with automatic HTTPS written in Go" target="_blank" rel="nofollow noopener noreferrer">Caddy Server</a></li><li><a href="https://docs.traefik.io/https/acme/" title="Configure Traefik to use an ACME provider" target="_blank" rel="nofollow noopener noreferrer">Traefik</a></li></ul><p>Thanks for reading my blog, don&#x27;t forget to share with your friends and colleagues. Together we can make the web a safer place, and this starts with your development, so you can use modern web features such as HTTP/2 and gRPC, which require you to use TLS.</p></div></div></article><section class="max-w-4xl mx-auto"><div class="prose text-lg mx-auto max-w-4xl"><blockquote>You have disabled cookies. To leave me a comment please allow cookies at <!-- --><code>functionality</code> level.<!-- --></blockquote></div></section><hr class="border-gray-200 mt-28 mb-24"/><section><h2 class="mb-8 text-6xl md:text-7xl font-bold tracking-tighter leading-tight">More Stories</h2><div class="grid grid-cols-1 md:grid-cols-2 md:col-gap-16 lg:col-gap-32 row-gap-20 md:row-gap-32 mb-32"><div class="m-5"><div class="mb-5"><div class="relative shadow-small h-36 md:h-60 lg:h-72 hover:shadow-medium transition-shadow duration-200"><a aria-label="Nginx 1.19 supports environment variables and templates in Docker" href="/nginx-1-19-supports-environment-variables-and-templates-in-docker"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Cover Image for Nginx 1.19 supports environment variables and templates in Docker" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="object-cover object-center" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;filter:blur(20px);background-size:cover;background-image:url(&quot;/images/add0e7c605eab96967fcb50f83ffcbceb864023e.png&quot;);background-position:0% 0%"/><noscript><img alt="Cover Image for Nginx 1.19 supports environment variables and templates in Docker" sizes="100vw" srcSet="/_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=3840&amp;q=75 3840w" src="/_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center" loading="lazy"/></noscript></span></a></div></div><h3 class="text-3xl mb-3 leading-snug"><a class="hover:underline" href="/nginx-1-19-supports-environment-variables-and-templates-in-docker">Nginx 1.19 supports environment variables and templates in Docker</a></h3><div class="flex items-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2732%27%20height=%2732%27/%3e"/></span><img alt="Marco Franssen" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Marco Franssen" srcSet="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=32&amp;q=75 1x, /_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="text-sm text-gray-700 ml-2">Marco Franssen<!-- --> / <!-- --><time dateTime="2020-08-09T14:10:59.000Z">August  9, 2020</time></p></div><p class="leading-normal my-4 prose">In this blog I want to show you a nice new feature in Nginx 1.19 Docker image. I requested it somewhere 2 years ago when I was trying to figure out how I could configure my static page applications more flexibly with various endpoints to backing microservices. Back then I used to have my static pages fetch a json file that contained the endpoints for the apis. This way I could simply mount this json file into my container with all kind of endpoints for this particular deployment. It was some s…</p></div><div class="m-5"><div class="mb-5"><div class="relative shadow-small h-36 md:h-60 lg:h-72 hover:shadow-medium transition-shadow duration-200"><a aria-label="Building a Elasticsearch cluster using Docker-Compose and Traefik" href="/building-a-elasticsearch-cluster-using-docker-compose-and-traefik"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Cover Image for Building a Elasticsearch cluster using Docker-Compose and Traefik" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="object-cover object-center" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;filter:blur(20px);background-size:cover;background-image:url(&quot;/images/8570ab52b661fb637cd1e89884f4b67cd6574375.png&quot;);background-position:0% 0%"/><noscript><img alt="Cover Image for Building a Elasticsearch cluster using Docker-Compose and Traefik" sizes="100vw" srcSet="/_next/image?url=%2Fimages%2F8570ab52b661fb637cd1e89884f4b67cd6574375.png&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fimages%2F8570ab52b661fb637cd1e89884f4b67cd6574375.png&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fimages%2F8570ab52b661fb637cd1e89884f4b67cd6574375.png&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fimages%2F8570ab52b661fb637cd1e89884f4b67cd6574375.png&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fimages%2F8570ab52b661fb637cd1e89884f4b67cd6574375.png&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fimages%2F8570ab52b661fb637cd1e89884f4b67cd6574375.png&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fimages%2F8570ab52b661fb637cd1e89884f4b67cd6574375.png&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fimages%2F8570ab52b661fb637cd1e89884f4b67cd6574375.png&amp;w=3840&amp;q=75 3840w" src="/_next/image?url=%2Fimages%2F8570ab52b661fb637cd1e89884f4b67cd6574375.png&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center" loading="lazy"/></noscript></span></a></div></div><h3 class="text-3xl mb-3 leading-snug"><a class="hover:underline" href="/building-a-elasticsearch-cluster-using-docker-compose-and-traefik">Building a Elasticsearch cluster using Docker-Compose and Traefik</a></h3><div class="flex items-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2732%27%20height=%2732%27/%3e"/></span><img alt="Marco Franssen" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Marco Franssen" srcSet="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=32&amp;q=75 1x, /_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="text-sm text-gray-700 ml-2">Marco Franssen<!-- --> / <!-- --><time dateTime="2020-06-17T21:20:39.000Z">June  17, 2020</time></p></div><p class="leading-normal my-4 prose">In a previous blog I have written on setting up Elasticsearch in docker-compose.yml already. I have also shown you before how to setup Traefik 1.7 in docker-compose.yml. Today I want to show you how we can use Traefik to expose a loadbalanced endpoint on top of a Elasticsearch cluster.

Simplify networking complexity while designing, deploying, and running
applications.

We will setup our cluster using docker-compose so we can easily run and cleanup this cluster from our laptop.

Create a Elas…</p></div><div class="m-5"><div class="mb-5"><div class="relative shadow-small h-36 md:h-60 lg:h-72 hover:shadow-medium transition-shadow duration-200"><a aria-label="Build a Go Webserver on HTTP/2 using Letsencrypt" href="/build-a-go-webserver-on-http-2-using-letsencrypt"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Cover Image for Build a Go Webserver on HTTP/2 using Letsencrypt" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="object-cover object-center" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;filter:blur(20px);background-size:cover;background-image:url(&quot;/images/fa6fc6cc3b2d3ced522286636de249961e446f13.png&quot;);background-position:0% 0%"/><noscript><img alt="Cover Image for Build a Go Webserver on HTTP/2 using Letsencrypt" sizes="100vw" srcSet="/_next/image?url=%2Fimages%2Ffa6fc6cc3b2d3ced522286636de249961e446f13.png&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fimages%2Ffa6fc6cc3b2d3ced522286636de249961e446f13.png&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fimages%2Ffa6fc6cc3b2d3ced522286636de249961e446f13.png&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fimages%2Ffa6fc6cc3b2d3ced522286636de249961e446f13.png&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fimages%2Ffa6fc6cc3b2d3ced522286636de249961e446f13.png&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fimages%2Ffa6fc6cc3b2d3ced522286636de249961e446f13.png&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fimages%2Ffa6fc6cc3b2d3ced522286636de249961e446f13.png&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fimages%2Ffa6fc6cc3b2d3ced522286636de249961e446f13.png&amp;w=3840&amp;q=75 3840w" src="/_next/image?url=%2Fimages%2Ffa6fc6cc3b2d3ced522286636de249961e446f13.png&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center" loading="lazy"/></noscript></span></a></div></div><h3 class="text-3xl mb-3 leading-snug"><a class="hover:underline" href="/build-a-go-webserver-on-http-2-using-letsencrypt">Build a Go Webserver on HTTP/2 using Letsencrypt</a></h3><div class="flex items-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2732%27%20height=%2732%27/%3e"/></span><img alt="Marco Franssen" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Marco Franssen" srcSet="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=32&amp;q=75 1x, /_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="text-sm text-gray-700 ml-2">Marco Franssen<!-- --> / <!-- --><time dateTime="2020-04-05T11:13:13.000Z">April  5, 2020</time></p></div><p class="leading-normal my-4 prose">Pretty often I see developers struggle with setting up a webserver running on https. Now some might argue, why to run a webserver on https during development? The reason for that is simple. If you would like to benefit from HTTP/2 features like server push, utilizing the http.Pusher interface, you will need to run your webserver on HTTP/2. That is the only way how you can very early on in the development process test this. In this blog I&#x27;m showing you how to do that in Go using Letsencrypt and…</p></div><div class="m-5"><div class="mb-5"><div class="relative shadow-small h-36 md:h-60 lg:h-72 hover:shadow-medium transition-shadow duration-200"><a aria-label="React Router and Nginx over HTTP/2" href="/react-router-and-nginx-over-http2"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Cover Image for React Router and Nginx over HTTP/2" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="object-cover object-center" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;filter:blur(20px);background-size:cover;background-image:url(&quot;/images/add0e7c605eab96967fcb50f83ffcbceb864023e.png&quot;);background-position:0% 0%"/><noscript><img alt="Cover Image for React Router and Nginx over HTTP/2" sizes="100vw" srcSet="/_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=3840&amp;q=75 3840w" src="/_next/image?url=%2Fimages%2Fadd0e7c605eab96967fcb50f83ffcbceb864023e.png&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center" loading="lazy"/></noscript></span></a></div></div><h3 class="text-3xl mb-3 leading-snug"><a class="hover:underline" href="/react-router-and-nginx-over-http2">React Router and Nginx over HTTP/2</a></h3><div class="flex items-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2732%27%20height=%2732%27/%3e"/></span><img alt="Marco Franssen" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Marco Franssen" srcSet="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=32&amp;q=75 1x, /_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75 2x" src="/_next/image?url=%2Fimages%2Fprofile.jpg&amp;w=64&amp;q=75" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span><p class="text-sm text-gray-700 ml-2">Marco Franssen<!-- --> / <!-- --><time dateTime="2020-03-28T12:40:36.000Z">March  28, 2020</time></p></div><p class="leading-normal my-4 prose">In this blogpost I want to show you how you can easily get your React SPA app with clientside router work properly with your Nginx setup. I will also show you how to serve your React App over HTTP/2 and how you can leverage from http2 server pushes. To do so I will show you how to do that with the Nginx Docker image.

When running your webapp using the development server you will in general not face any issues, however when running the static build on a production server you will most likely f…</p></div></div></section></div></main></div><footer class="bg-gray-50 border-t border-gray-200 print:invisible"><div class="container mx-auto px-5"><div class="py-8 flex justify-between align-middle"><div class="align-middle"><a class="hover:underline" href="/">← Back to home</a></div><div class="space-x-2"></div></div><div class="py-10 flex flex-col lg:flex-row items-center"><h3 class="text-4xl lg:text-5xl font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:pr-4 lg:w-1/2">Marco Franssen</h3><h3 class="text-gray-500 text-lg lg:text-5xl tracking-tighter leading-tight text-center lg:text-left mb-10 lg:pr-4 lg:w-1/2">My personal blog on Software development.</h3></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Use the ACME DNS-Challenge to get a TLS certificate","date":"2020-04-13T12:22:12.000Z","slug":"use-the-acme-dns-challenge-to-get-a-tls-certificate","author":{"name":"Marco Franssen","picture":"/images/profile.jpg","gender":"male"},"ogImage":{"url":"/images/6b7f0cf87fd84937834f07bb6719c0e521445911.png","dimensions":{"height":1358,"width":2108,"type":"png"}},"coverImage":{"url":"/images/6b7f0cf87fd84937834f07bb6719c0e521445911.png","dimensions":{"height":1358,"width":2108,"type":"png"}},"wordCount":1729,"readingTime":{"text":"9 min read","minutes":8.635,"time":518100,"words":1727},"excerpt":"In my previous 2 blogs I have shown you how to build a HTTP/2 webserver. In these blogs we have covered self signed TLS certificates as well retrieving a Certificate via Letsencrypt. I mentioned there you will have to expose your server publicly on the internet. However I now figured out there is another way. So please continue reading.\n\nLet's Encrypt is a free, automated, and open certificate authority brought to you by the nonprofit Internet Security Research Group (ISRG).\n\nLetsencrypt imple…","categories":["Software development"],"tags":["Web","Docker","TLS","Letsencrypt","HTTP/2"],"content":{"compiledSource":"var i=Object.defineProperty,N=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var t=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var r=(e,n,s)=\u003en in e?i(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,a=(e,n)=\u003e{for(var s in n||(n={}))o.call(n,s)\u0026\u0026r(e,s,n[s]);if(t)for(var s of t(n))c.call(n,s)\u0026\u0026r(e,s,n[s]);return e},l=(e,n)=\u003eN(e,d(n));var m=(e,n)=\u003e{var s={};for(var p in e)o.call(e,p)\u0026\u0026n.indexOf(p)\u003c0\u0026\u0026(s[p]=e[p]);if(e!=null\u0026\u0026t)for(var p of t(e))n.indexOf(p)\u003c0\u0026\u0026c.call(e,p)\u0026\u0026(s[p]=e[p]);return s};const makeShortcode=e=\u003efunction(s){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",a({},s))},Adsense=makeShortcode(\"Adsense\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var p=s,{components:e}=p,n=m(p,[\"components\"]);return mdx(MDXLayout,l(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"In my previous 2 blogs I have shown you how to build a HTTP/2 webserver. In these blogs we have covered self signed TLS certificates as well retrieving a Certificate via Letsencrypt. I mentioned there you will have to expose your server publicly on the internet. However I now figured out there is another way. So please continue reading.\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},\"Let's Encrypt is a free, automated, and open certificate authority brought to you by the nonprofit Internet Security Research Group (ISRG).\")),mdx(Adsense,{client:\"ca-pub-5023539608753938\",slot:\"3392827205\",format:\"fluid\",layout:\"in-article\",style:{display:\"block\",textAlign:\"center\"},responsive:\"true\",mdxType:\"Adsense\"}),mdx(\"p\",null,\"Letsencrypt implements the ACME \",mdx(\"em\",{parentName:\"p\"},\"(Automated Certificate Management environment)\"),\" protocol. In the ACME protocol there are \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://letsencrypt.org/docs/challenge-types/\",title:\"Acme Challenge types\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"4 challenge types defined\"),\". Let's go briefly over these challenge types, so we can relate this back to my previous blogs before we are going to use the DNS challenge type.\"),mdx(\"h2\",a({},{id:\"http-01-challenge\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor\",href:\"#http-01-challenge\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"HTTP-01 challenge\"),mdx(\"p\",null,\"This challenge can only be performed on port 80. The client will temporarely place a file on the webserver in the following path.\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},mdx(\"inlineCode\",{parentName:\"p\"},\"/.well-known/acme-challenge/\u003cTOKEN\u003e\"))),mdx(\"p\",null,\"Once the ACME client tells Letsecrypt the file is there it will be retrieved to authenticate and validate. Upon success you will receive the certificate. For this challenge your webserver has to be publicly reacheable on port 80.\"),mdx(\"h2\",a({},{id:\"dns-01-challenge\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor\",href:\"#dns-01-challenge\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"DNS-01 challenge\"),mdx(\"p\",null,\"This challenge requires you to prove the ownership of a domain name. It also allows for issuing wildcard certificates. After receiving a token the client will have to create a DNS \",mdx(\"inlineCode\",{parentName:\"p\"},\"TXT\"),\" record with the following contents.\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},mdx(\"inlineCode\",{parentName:\"p\"},\"_acme-challenge.\u003cYOUR_DOMAIN\u003e\"))),mdx(\"p\",null,\"Letsencrypt will query for this DNS record. Once verified, the client can issue the certificate. As automation is important there is a large amount of DNS providers that expose an API. For this challenge your webserver does not have to be exposes on the internet, and is therefore very convenient to issue development certificates for a domain you personally own.\"),mdx(\"h2\",a({},{id:\"tls-sni-01-challenge\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor\",href:\"#tls-sni-01-challenge\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"TLS-SNI-01 challenge\"),mdx(\"p\",null,\"This challenge was defined in draft versions of ACME. It did a TLS handshake on port 443 and sent a specific SNI header, looking for certificate that contained the token. It was disabled in March 2019 because it was not secure enough. So let's quickly forget about this one.\"),mdx(\"h2\",a({},{id:\"tls-alpn-01-challenge\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor\",href:\"#tls-alpn-01-challenge\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"TLS-ALPN-01 challenge\"),mdx(\"p\",null,\"This challenge can be performed on port 443 over TLS only. This challenge is not suitable for most people. It is best suited to authors of TLS-terminating reverse proxies that want to perform host-based validation like HTTP-01, but want to do it entirely at the TLS layer in order to separate concerns.\"),mdx(\"h2\",a({},{id:\"recap\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor\",href:\"#recap\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Recap\"),mdx(\"p\",null,\"So now we know a bit about the different ACME Challenge types lets see what we have used in the \",mdx(\"a\",a({parentName:\"p\"},{href:\"/build-a-go-webserver-on-http-2-using-letsencrypt\",title:\"Build a Go Webserver on HTTP/2 using Letsencrypt\"}),\"previous blog\"),\". In this blog we had to publicly expose our webserver to be able to request a certificate. The main reason for this is that the \",mdx(\"inlineCode\",{parentName:\"p\"},\"golang.org/x/crypto/acme/autocert\"),\" does not offer the \",mdx(\"strong\",{parentName:\"p\"},\"DNS-01\"),\" challenge implementation. We have been using the \",mdx(\"strong\",{parentName:\"p\"},\"HTTP-01\"),\" challenge on this server to get our certificate.\"),mdx(\"p\",null,\"So now lets focus on how we can issue a certificate via the \",mdx(\"strong\",{parentName:\"p\"},\"DNS-01\"),\" challenge type. As a fan of the Go programming language I found a bunch of other libraries and tools implementing the ACME protocol. These do implement the \",mdx(\"strong\",{parentName:\"p\"},\"DNS-01\"),\" challenge type.\"),mdx(\"h2\",a({},{id:\"lego\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor\",href:\"#lego\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Lego\"),mdx(\"p\",null,mdx(\"a\",a({parentName:\"p\"},{href:\"https://go-acme.github.io/lego/\",title:\"Let\\u2019s Encrypt client and ACME library written in Go\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Lego\"),\" can be used both as a cli tool or as a library in your own code. Lego supports a whole bunch of \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/go-acme/lego#dns-providers\",title:\"Lego DNS providers\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"DNS providers\"),\".\"),mdx(\"h2\",a({},{id:\"certmagic\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor\",href:\"#certmagic\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Certmagic\"),mdx(\"p\",null,mdx(\"a\",a({parentName:\"p\"},{href:\"https://pkg.go.dev/github.com/caddyserver/certmagic?tab=overview\",title:\"Easy and Powerful TLS Automation\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Certmagic\"),\" is the library used in the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://caddyserver.com/\",title:\"Caddy 2 is a powerful, enterprise-ready, open source web server with automatic HTTPS written in Go\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Caddy\"),\" webserver. To make use of the \",mdx(\"strong\",{parentName:\"p\"},\"DNS-01\"),\" challenge also certmagic supports the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://go-acme.github.io/lego/\",title:\"Let\\u2019s Encrypt client and ACME library written in Go\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Lego\"),\" DNS providers.\"),mdx(Adsense,{client:\"ca-pub-5023539608753938\",slot:\"3392827205\",format:\"fluid\",layout:\"in-article\",style:{display:\"block\",textAlign:\"center\"},responsive:\"true\",mdxType:\"Adsense\"}),mdx(\"h2\",a({},{id:\"example\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor\",href:\"#example\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Example\"),mdx(\"p\",null,\"In this blog I will show you a small example using the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://go-acme.github.io/lego/\",title:\"Let\\u2019s Encrypt client and ACME library written in Go\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Lego\"),\" cli to issue a certificate for your domain. I'm utilizing for that the Gandi Live DNS (v5) as a DNS Provider.\"),mdx(\"p\",null,\"First I will install Lego from sources using Go. Please note you will require \",mdx(\"inlineCode\",{parentName:\"p\"},\"Go 1.12+\"),\".\"),mdx(\"div\",a({},{className:\"rehype-code-title\"}),\"terminal\"),mdx(\"pre\",a({},{className:\"language-bash\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-bash code-highlight\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"$ \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"GO111MODULE\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),`on go get -u github.com/go-acme/lego/v3/cmd/lego\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"go: found github.com/go-acme/lego/v3/cmd/lego \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"in\"),` github.com/go-acme/lego/v3 v3.5.0\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"..\"),`.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"..\"),`.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"..\"),`.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`$ lego -h\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`NAME:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"   lego - Let\",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`'s Encrypt client written in Go\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`USAGE:\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   lego [global options] command [command options] [arguments...]\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`VERSION:\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   dev\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`COMMANDS:\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   run      Register an account, then create and install a certificate\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   revoke   Revoke a certificate\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   renew    Renew a certificate\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"   dnshelp  Shows additional help for the '\"),`--dns' global option\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`   list     Display certificates and accounts information.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"   help, h  Shows a list of commands or \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"help\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"for\"),\" one \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"command\"),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"..\"),`.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"..\"),`.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"..\"),`.\n`))),mdx(\"p\",null,\"If you don't have Go installed on your machine, there is also a Docker container available.\"),mdx(\"div\",a({},{className:\"rehype-code-title\"}),\"terminal\"),mdx(\"pre\",a({},{className:\"language-bash\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-bash code-highlight\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"$ \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"docker\"),` run goacme/lego -h\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`NAME:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"   lego - Let\",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`'s Encrypt client written in Go\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`USAGE:\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   lego [global options] command [command options] [arguments...]\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`VERSION:\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   v3.5.0\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`COMMANDS:\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   run      Register an account, then create and install a certificate\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   revoke   Revoke a certificate\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`   renew    Renew a certificate\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"   dnshelp  Shows additional help for the '\"),`--dns' global option\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`   list     Display certificates and accounts information.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"   help, h  Shows a list of commands or \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"help\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"for\"),\" one \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"command\"),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"..\"),`.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"..\"),`.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"..\"),`.\n`))),mdx(\"p\",null,\"For my Gandi Live DNS, I will have to provide my Gandi API Key to be able to communicate with their API. In below example I show you a dummy key, so don't expect this to work for you.\"),mdx(\"div\",a({},{className:\"rehype-code-title\"}),\"terminal\"),mdx(\"pre\",a({},{className:\"language-bash\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-bash code-highlight\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"$ \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"GANDIV5_API_KEY\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),`G4nD1v5L1v3DNSDummyK3y\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"$ lego --dns gandiv5 -d marcofranssen.nl -d \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"'*.marcofranssen.nl'\"),` -a -m marco.franssen@gmail.com run\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":31:42 No key found \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"for\"),` account marco.franssen@gmail.com. Generating a P384 key.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),`:31:42 Saved key to /Users/marco/.lego/accounts/acme-v02.api.letsencrypt.org/marco.franssen@gmail.com/keys/marco.franssen@gmail.com.key\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":31:43 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" acme: Registering account \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"for\"),` marco.franssen@gmail.com\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"!\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"!\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"!\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"!\"),\" HEADS UP \",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"!\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"!\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"!\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"!\"),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"    Your account credentials have been saved \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"in\"),\" your Let\",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`'s Encrypt\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`    configuration directory at \"/Users/marco/.lego/accounts\".\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`    You should make a secure backup of this folder now. This\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`    configuration directory will also contain certificates and\n`)),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"    private keys obtained from Let'\"),`s Encrypt so making regular\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`    backups of this folder is ideal.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),` acme: Obtaining bundled SAN certificate\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:12 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),` AuthURL: https://acme-v02.api.letsencrypt.org/acme/authz-v3/3894178945\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:12 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" acme: Could not \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"find\"),` solver for: tls-alpn-01\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:12 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" acme: Could not \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"find\"),` solver for: http-01\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:12 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),` acme: use dns-01 solver\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:12 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),` acme: Preparing to solve DNS-01\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:13 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),` API response: DNS Record Created\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:13 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),` acme: Trying to solve DNS-01\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:13 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" acme: Checking DNS record propagation using \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"8.8\"),\".8.8:53 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"8.8\"),\".4.4:53\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:13 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" Wait \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"for\"),\" propagation \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"timeout: 20m0s, interval: 20s\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:14 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" acme: Waiting \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"for\"),` DNS record propagation.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:34 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" acme: Waiting \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"for\"),` DNS record propagation.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":36:54 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" acme: Waiting \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"for\"),` DNS record propagation.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":37:14 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" acme: Waiting \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"for\"),` DNS record propagation.\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":37:41 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),` The server validated our request\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":37:41 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),` acme: Cleaning DNS-01 challenge\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":37:41 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" acme: Validations succeeded\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\";\"),` requesting certificates\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":37:42 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"INFO\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),` Server responded with a certificate.\n`))),mdx(\"p\",null,\"Now lets inspect the certificate we received. Please note there is also a \",mdx(\"inlineCode\",{parentName:\"p\"},\".key\"),\" file in the same location which you will have to deploy at your webserver. For security reasons I will not share my key over here.\"),mdx(\"div\",a({},{className:\"rehype-code-title\"}),\"terminal\"),mdx(\"pre\",a({},{className:\"language-bash\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-bash code-highlight\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"$ \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"cat\"),` .lego/certificates/mac-dev.marcofranssen.nl.crt\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`-----BEGIN CERTIFICATE-----\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`MIIEuTCCA6GgAwIBAgISBLbVpvyGBSKWR+C/qPw+WAijMA0GCSqGSIb3DQEBCwUA\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`MEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQD\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`ExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0yMDA0MTExMDM3NDJaFw0y\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`MDA3MTAxMDM3NDJaMCMxITAfBgNVBAMTGG1hYy1kZXYubWFyY29mcmFuc3Nlbi5u\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`bDB2MBAGByqGSM49AgEGBSuBBAAiA2IABJVkLy+89NjDUcJ7Ym0tOSODV8h/HrGF\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`29u7sTbg6yicu4uETIjNn5yNeFXVaz9NfJ39iiwPCkyP6G35g46YNqv5xAlg2uid\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`Io0jiaR/A4S/JX4loD+U0b2FUxXPCyUwpaOCAmwwggJoMA4GA1UdDwEB/wQEAwIH\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`gDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDAYDVR0TAQH/BAIwADAd\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`BgNVHQ4EFgQUhTdwoXTajiDC0WkwLzIhO/0jV4YwHwYDVR0jBBgwFoAUqEpqYwR9\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`3brm0Tm3pkVl7/Oo7KEwbwYIKwYBBQUHAQEEYzBhMC4GCCsGAQUFBzABhiJodHRw\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`Oi8vb2NzcC5pbnQteDMubGV0c2VuY3J5cHQub3JnMC8GCCsGAQUFBzAChiNodHRw\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`Oi8vY2VydC5pbnQteDMubGV0c2VuY3J5cHQub3JnLzAjBgNVHREEHDAaghhtYWMt\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`ZGV2Lm1hcmNvZnJhbnNzZW4ubmwwTAYDVR0gBEUwQzAIBgZngQwBAgEwNwYLKwYB\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`BAGC3xMBAQEwKDAmBggrBgEFBQcCARYaaHR0cDovL2Nwcy5sZXRzZW5jcnlwdC5v\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`cmcwggEDBgorBgEEAdZ5AgQCBIH0BIHxAO8AdgDwlaRZ8gDRgkAQLS+TiI6tS/4d\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`R+OZ4dA0prCoqo6ycwAAAXFpB/hLAAAEAwBHMEUCIGngr8eDf1aGEuueWIzdx8GV\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`JGY5WhMOCM15Ij6VwJ29AiEA9WBTGf8xg3SoQXN3Sjgy/fYZu3Cs2lphHg3v0B4h\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`tH8AdQCyHgXMi6LNiiBOh2b5K7mKJSBna9r6cOeySVMt74uQXgAAAXFpB/g/AAAE\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`AwBGMEQCIEeoOJrnb1UH0XIorYLz9koKp4j0GVgqYgRvnTT517bnAiBgcrTEnvKw\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`tCe7R3Ci9XS8dcJDjQVXTEs4rPV4gCRW8TANBgkqhkiG9w0BAQsFAAOCAQEATcqt\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`lugYm7/7Z1R/IvBWct3E/bapMAhVz7alsClVeZHuv2vSX2LPgTp8ZXcgnf5RsXTw\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`iYJ/ZXhEtUwQfrPYGWYuXeINEbQ2hjKivGLYrWRfHw2MEC/R7Z1/5t6ODtUuYYbr\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`EHtCJ1I5XmmnqQvSoRBjbY1WtYskIZV2i1mk8eJv6z1FpBBkrrGFUaEXrw2HIBo1\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`K4zXwfxdnAb0PuBCVf+ds+EORhlMUWKf0yfSq9oAhZoitm4hS4BFC2ey8Y2dmuI9\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`I/EeVnxDPBFwWQ1Sbhinu0o1kjdYM2zO1nPZJjjyUDYJ+7Utq1zjvY7vENL7pmr/\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"pGu3XUZC2cD8LZRFkg\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"==\"),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`-----END CERTIFICATE-----\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`-----BEGIN CERTIFICATE-----\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`MIIEkjCCA3qgAwIBAgIQCgFBQgAAAVOFc2oLheynCDANBgkqhkiG9w0BAQsFADA/\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`DkRTVCBSb290IENBIFgzMB4XDTE2MDMxNzE2NDA0NloXDTIxMDMxNzE2NDA0Nlow\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`SjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMT\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`GkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMIIBIjANBgkqhkiG9w0BAQEFAAOC\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`AQ8AMIIBCgKCAQEAnNMM8FrlLke3cl03g7NoYzDq1zUmGSXhvb418XCSL7e4S0EF\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`q6meNQhY7LEqxGiHC6PjdeTm86dicbp5gWAf15Gan/PQeGdxyGkOlZHP/uaZ6WA8\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`SMx+yk13EiSdRxta67nsHjcAHJyse6cF6s5K671B5TaYucv9bTyWaN8jKkKQDIZ0\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`Z8h/pZq4UmEUEz9l6YKHy9v6Dlb2honzhT+Xhq+w3Brvaw2VFn3EK6BlspkENnWA\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`a6xK8xuQSXgvopZPKiAlKQTGdMDQMc2PMTiVFrqoM7hD8bEfwzB/onkxEz0tNvjj\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`/PIzark5McWvxI0NHWQWM6r6hCm21AvA2H3DkwIDAQABo4IBfTCCAXkwEgYDVR0T\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`AQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwfwYIKwYBBQUHAQEEczBxMDIG\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`CCsGAQUFBzABhiZodHRwOi8vaXNyZy50cnVzdGlkLm9jc3AuaWRlbnRydXN0LmNv\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`bTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9k\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`c3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAw\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`VAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcC\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`ARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAz\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`MDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwu\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`Y3JsMB0GA1UdDgQWBBSoSmpjBH3duubRObemRWXv86jsoTANBgkqhkiG9w0BAQsF\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`AAOCAQEA3TPXEfNjWDjdGBX7CVW+dla5cEilaUcne8IkCJLxWh9KEik3JHRRHGJo\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`uM2VcGfl96S8TihRzZvoroed6ti6WqEBmtzw3Wodatg+VyOeph4EYpr/1wXKtx8/\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`wApIvJSwtmVi4MFU5aMqrSDE6ea73Mj2tcMyo5jMd6jmeWUHK8so/joWUoHOUgwu\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`X4Po1QYz+3dszkDqMp4fklxBwXRsW10KXzPMTZ+sOPAveyxindmjkW8lGy+QsRlG\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`PfZ+G6Z6h7mjem0Y+iWlkYcV4PIWL1iwBi8saCbGS5jN2p8M+X+Q7UNKEkROb3N6\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"KOqkqm57TH2H3eDJAkSnh6/DNFu0Qg\",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"==\"),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`-----END CERTIFICATE-----\n`))),mdx(\"p\",null,\"To inspect the contents of your certificates you can simply run the following openssl command.\"),mdx(\"div\",a({},{className:\"rehype-code-title\"}),\"terminal\"),mdx(\"pre\",a({},{className:\"language-bash\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-bash code-highlight\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`$ openssl x509 -in .lego/certificates/mac-dev.marcofranssen.nl.crt -noout -text\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`Certificate:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`    Data:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"        Version: \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"3\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),\"0x2\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`        Serial Number:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            04:b6:d5:a6:fc:86:05:22:96:47:e0:bf:a8:fc:3e:58:08:a3\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`    Signature Algorithm: sha256WithRSAEncryption\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"        Issuer: \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"C\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"US, \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"O\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"Let\",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"'s Encrypt, CN=Let'\"),`s Encrypt Authority X3\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`        Validity\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"            Not Before: Apr \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"11\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"10\"),\":37:42 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),` GMT\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"            Not After \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\":\"),\" Jul \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"10\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"10\"),\":37:42 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),` GMT\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"        Subject: \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"CN\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),`mac-dev.marcofranssen.nl\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`        Subject Public Key Info:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            Public Key Algorithm: id-ecPublicKey\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"                Public-Key: \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"384\"),\" bit\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                pub:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                    04:95:64:2f:2f:bc:f4:d8:c3:51:c2:7b:62:6d:2d:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"                    \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"39\"),`:23:83:57:c8:7f:1e:b1:85:db:db:bb:b1:36:e0:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                    eb:28:9c:bb:8b:84:4c:88:cd:9f:9c:8d:78:55:d5:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                    6b:3f:4d:7c:9d:fd:8a:2c:0f:0a:4c:8f:e8:6d:f9:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"                    \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"83\"),`:8e:98:36:ab:f9:c4:09:60:da:e8:9d:22:8d:23:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"                    \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"89\"),`:a4:7f:03:84:bf:25:7e:25:a0:3f:94:d1:bd:85:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"                    \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"53\"),`:15:cf:0b:25:30:a5\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                ASN1 OID: secp384r1\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                NIST CURVE: P-384\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`        X509v3 extensions:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            X509v3 Key Usage: critical\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                Digital Signature\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            X509v3 Extended Key Usage:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                TLS Web Server Authentication, TLS Web Client Authentication\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            X509v3 Basic Constraints: critical\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                CA:FALSE\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            X509v3 Subject Key Identifier:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"                \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"85\"),`:37:70:A1:74:DA:8E:20:C2:D1:69:30:2F:32:21:3B:FD:23:57:86\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            X509v3 Authority Key Identifier:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                keyid:A8:4A:6A:63:04:7D:DD:BA:E6:D1:39:B7:A6:45:65:EF:F3:A8:EC:A1\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            Authority Information Access:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                OCSP - URI:http://ocsp.int-x3.letsencrypt.org\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                CA Issuers - URI:http://cert.int-x3.letsencrypt.org/\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            X509v3 Subject Alternative Name:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                DNS:mac-dev.marcofranssen.nl\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`            X509v3 Certificate Policies:\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"                Policy: \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2.23\"),`.140.1.2.1\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"                Policy: \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"1.3\"),`.6.1.4.1.44947.1.1.1\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`                  CPS: http://cps.letsencrypt.org\n`))),mdx(\"p\",null,\"Last but not least you can very easily renew your certificate using \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://go-acme.github.io/lego/\",title:\"Let\\u2019s Encrypt client and ACME library written in Go\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Lego\"),\".\"),mdx(\"div\",a({},{className:\"rehype-code-title\"}),\"terminal\"),mdx(\"pre\",a({},{className:\"language-bash\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-bash code-highlight\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`$ lego --dns gandiv5 -d mac-dev.marcofranssen.nl -a -m marco.franssen@gmail.com renew\n`),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),\"\",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"2020\"),\"/04/11 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"13\"),\":49:23 \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"[\"),\"mac-dev.marcofranssen.nl\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"]\"),\" The certificate expires \",mdx(\"span\",a({parentName:\"span\"},{className:\"token keyword\"}),\"in\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"89\"),\" days, the number of days defined to perform the renewal is \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"30\"),`: no renewal.\n`))),mdx(\"p\",null,\"Feel free to explore the other options of the cli yourself. There are plenty of DNS providers available.\"),mdx(\"p\",null,\"Last but not least you will have to update your \",mdx(\"inlineCode\",{parentName:\"p\"},\"/etc/hosts\"),\" file to use the certificate on your laptop during development.\"),mdx(\"div\",a({},{className:\"rehype-code-title\"}),\"/etc/hosts\"),mdx(\"pre\",a({},{className:\"language-txt\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-txt code-highlight\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"code-line\"}),`127.0.0.1 mac-dev.marcofranssen.nl\n`))),mdx(\"p\",null,\"This allows me to navigate to my webserver running on localhost using \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://mac-dev.marcofranssen.nl\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"https://mac-dev.marcofranssen.nl\"),\". See my other 2 blogs on how to \",mdx(\"a\",a({parentName:\"p\"},{href:\"/build-a-go-webserver-on-http-2-using-letsencrypt\",title:\"Build a Go Webserver on HTTP/2 using Letsencrypt\"}),\"build a webserver in Go running on HTTPS\"),\" or a \",mdx(\"a\",a({parentName:\"p\"},{href:\"/react-router-and-nginx-over-http2\",title:\"React Router and Nginx over HTTP/2\"}),\"webserver using Nginx\"),\". Simply use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"crt\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"key\"),\" file we just received via \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://letsencrypt.org\",title:\"A nonprofit Certificate Authority providing TLS certificates to 200 million websites\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Letsencrypt\"),\".\"),mdx(\"p\",null,\"Last but not least you will also find a reference to \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.traefik.io/https/acme/\",title:\"Configure Traefik to use an ACME provider\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Traefik\"),\". Also Traefik makes use of Lego to be able to get your certificates in Traefik.\"),mdx(\"h2\",a({},{id:\"references\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor\",href:\"#references\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"References\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"/build-a-go-webserver-on-http-2-using-letsencrypt\",title:\"Build a Go Webserver on HTTP/2 using Letsencrypt\"}),\"Build a Go Webserver on HTTP/2 using Letsencrypt\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"/react-router-and-nginx-over-http2\",title:\"React Router and Nginx over HTTP/2\"}),\"React Router and Nginx over HTTP/2\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"https://letsencrypt.org\",title:\"A nonprofit Certificate Authority providing TLS certificates to 200 million websites\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Letsencrypt\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"https://letsencrypt.org/docs/challenge-types/\",title:\"Acme Challenge types\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Acme Challenge types\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"https://go-acme.github.io/lego/\",title:\"Let\\u2019s Encrypt client and ACME library written in Go\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Let\\u2019s Encrypt client and ACME library written in Go\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"https://github.com/go-acme/lego#dns-providers\",title:\"Lego DNS providers\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Lego DNS providers\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"https://pkg.go.dev/github.com/caddyserver/certmagic?tab=overview\",title:\"Easy and Powerful TLS Automation\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Certmagic: Easy and Powerful TLS Automation\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"https://caddyserver.com/\",title:\"Caddy 2 is a powerful, enterprise-ready, open source web server with automatic HTTPS written in Go\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Caddy Server\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",a({parentName:\"li\"},{href:\"https://docs.traefik.io/https/acme/\",title:\"Configure Traefik to use an ACME provider\",target:\"_blank\",rel:\"nofollow noopener noreferrer\"}),\"Traefik\"))),mdx(\"p\",null,\"Thanks for reading my blog, don't forget to share with your friends and colleagues. Together we can make the web a safer place, and this starts with your development, so you can use modern web features such as HTTP/2 and gRPC, which require you to use TLS.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"morePosts":[{"title":"Nginx 1.19 supports environment variables and templates in Docker","date":"2020-08-09T14:10:59.000Z","slug":"nginx-1-19-supports-environment-variables-and-templates-in-docker","author":{"name":"Marco Franssen","picture":"/images/profile.jpg","gender":"male"},"coverImage":{"url":"/images/add0e7c605eab96967fcb50f83ffcbceb864023e.png","dimensions":{"height":250,"width":720,"type":"png"}},"excerpt":"In this blog I want to show you a nice new feature in Nginx 1.19 Docker image. I requested it somewhere 2 years ago when I was trying to figure out how I could configure my static page applications more flexibly with various endpoints to backing microservices. Back then I used to have my static pages fetch a json file that contained the endpoints for the apis. This way I could simply mount this json file into my container with all kind of endpoints for this particular deployment. It was some s…"},{"title":"Building a Elasticsearch cluster using Docker-Compose and Traefik","date":"2020-06-17T21:20:39.000Z","slug":"building-a-elasticsearch-cluster-using-docker-compose-and-traefik","author":{"name":"Marco Franssen","picture":"/images/profile.jpg","gender":"male"},"coverImage":{"url":"/images/8570ab52b661fb637cd1e89884f4b67cd6574375.png","dimensions":{"height":402,"width":1200,"type":"png"}},"excerpt":"In a previous blog I have written on setting up Elasticsearch in docker-compose.yml already. I have also shown you before how to setup Traefik 1.7 in docker-compose.yml. Today I want to show you how we can use Traefik to expose a loadbalanced endpoint on top of a Elasticsearch cluster.\n\nSimplify networking complexity while designing, deploying, and running\napplications.\n\nWe will setup our cluster using docker-compose so we can easily run and cleanup this cluster from our laptop.\n\nCreate a Elas…"},{"title":"Build a Go Webserver on HTTP/2 using Letsencrypt","date":"2020-04-05T11:13:13.000Z","slug":"build-a-go-webserver-on-http-2-using-letsencrypt","author":{"name":"Marco Franssen","picture":"/images/profile.jpg","gender":"male"},"coverImage":{"url":"/images/fa6fc6cc3b2d3ced522286636de249961e446f13.png","dimensions":{"height":264,"width":556,"type":"png"}},"excerpt":"Pretty often I see developers struggle with setting up a webserver running on https. Now some might argue, why to run a webserver on https during development? The reason for that is simple. If you would like to benefit from HTTP/2 features like server push, utilizing the http.Pusher interface, you will need to run your webserver on HTTP/2. That is the only way how you can very early on in the development process test this. In this blog I'm showing you how to do that in Go using Letsencrypt and…"},{"title":"React Router and Nginx over HTTP/2","date":"2020-03-28T12:40:36.000Z","slug":"react-router-and-nginx-over-http2","author":{"name":"Marco Franssen","picture":"/images/profile.jpg","gender":"male"},"coverImage":{"url":"/images/add0e7c605eab96967fcb50f83ffcbceb864023e.png","dimensions":{"height":250,"width":720,"type":"png"}},"excerpt":"In this blogpost I want to show you how you can easily get your React SPA app with clientside router work properly with your Nginx setup. I will also show you how to serve your React App over HTTP/2 and how you can leverage from http2 server pushes. To do so I will show you how to do that with the Nginx Docker image.\n\nWhen running your webapp using the development server you will in general not face any issues, however when running the static build on a production server you will most likely f…"}],"profiles":[{"network":"Github","username":"marcofranssen","url":"https://github.com/marcofranssen","type":"Profile","_raw":{}},{"network":"Stack-Overflow","username":"marco-franssen","url":"https://stackoverflow.com/users/624395/marco-franssen","type":"Profile","_raw":{}},{"network":"Twitter","username":"marcofranssen","url":"https://twitter.com/marcofranssen","type":"Profile","_raw":{}},{"network":"LinkedIn","username":"marcofranssen","url":"https://www.linkedin.com/in/marcofranssen","type":"Profile","_raw":{}},{"network":"Keybase","username":"marcofranssen","url":"https://keybase.io/marcofranssen","type":"Profile","_raw":{}},{"network":"Reddit","username":"marcofranssen","url":"https://www.reddit.com/user/marcofranssen","type":"Profile","_raw":{}},{"network":"Youtube","username":"franssenmarco","url":"https://youtube.com/user/franssenmarco","type":"Profile","_raw":{}}]},"__N_SSG":true},"page":"/[slug]","query":{"slug":"use-the-acme-dns-challenge-to-get-a-tls-certificate"},"buildId":"383BorgA1SobUE5YFFTzt","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script type="text/plain" cookie-consent="targeting" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></body></html>